<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core" >

    <h:head>

        <f:facet name="first">
            <link rel="shortcut icon" href="./resources/image/favicon.ico" type="image/x-icon" />
            <meta http-equiv="X-UA-Compatible" content="IE=edge" />
            <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
            <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"/>
            <meta name="apple-mobile-web-app-capable" content="yes" />

            <c:if test="#{not empty aplicacionBean.parametro.pathImagenInicio}" >
                <style>

                    .body {
                        #{aplicacionBean.parametro.cssPathImagenInicio}
                        background-repeat: no-repeat;
                        background-position: center top;
                        background-attachment: fixed;
                        backgroudn-size: contain;
                    }
                </style>
            </c:if>
        </f:facet>

        <title>
            #{aplicacionBean.organizacion.nombreFantasia} - Ingreso al sistema
        </title>

        <f:metadata>
            <f:event type="preRenderView" listener="#{usuarioSessionBean.checkInicio}"/>
        </f:metadata>

        <c:if test="#{not empty aplicacionBean.parametro.codigoGoogleAnalitycs}">
            <script type="text/javascript" >
                #{aplicacionBean.parametro.codigoGoogleAnalitycs}
            </script>
        </c:if>

        <c:if test="#{not empty aplicacionBean.parametro.chat}">
            <script type="text/javascript" >
                #{aplicacionBean.parametro.chat}
            </script>
        </c:if>

    </h:head>

    <h:body styleClass="#{aplicacionBean.parametro.fondo} body">

        <h:form prependId="false" >

            <p:growl showDetail="true" />

            <div class="Container100">
                <div class="Container100">
                    <div class="Wid80 OvHidden DispBlock WidAutoOnMobile MarAuto" >

                        <div class="Card ShadowEffect">
                            <div class="Container100 ">
                                <div class="Wid50 MarAuto" >
                                    <p:graphicImage value="#{aplicacionBean.organizacion.logo}" styleClass="Wid100 MarAuto" style="max-width: 300px;" />
                                </div>
                            </div>

                            <div class="Container100 Responsive100">
                                <div class="Card TexAlCenter">

                                    <p:messages id="message" showDetail="true" /><p:growl id="messageg" showDetail="true" life="4000" />

                                    <div class="EmptyBox10" />

                                    <p:inputText value="#{usuarioSessionBean.txtRecupero}"
                                                 placeholder="Ingrese su usuario o email" />

                                    <div class="EmptyBox5" />

                                    <p:commandButton value="Recuperar mi clave" icon="fa fa-check"
                                                     process="@form"
                                                     update="@form"
                                                     action="#{usuarioSessionBean.recuperarClave}"   />

                                </div>
                            </div>

                        </div>
                    </div>
                </div>
            </div>

            <h:panelGroup layout="block" rendered="#{not empty aplicacionBean.parametro.pathExterno}">
                <p:hotkey bind="ctrl+p" handler="menuHome.click()"  />
                <h:outputLink id="menuHome" value="/#{aplicacionBean.parametro.pathExterno}/" target="_blank" ></h:outputLink>
            </h:panelGroup>
        </h:form>

        <h:outputStylesheet name="css/core-layout.css" library="volt-layout" />
        <h:outputStylesheet name="css/animate.css" library="volt-layout" />
        <h:outputStylesheet name="css/volt-font.css" library="volt-layout" />
        <h:outputStylesheet name="css/font-awesome.css" library="volt-layout" />
        <h:outputStylesheet name="css/volt-layout.css" library="volt-layout" />
    </h:body>

</html>

