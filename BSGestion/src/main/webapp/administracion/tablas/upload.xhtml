<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui"  >

    <f:metadata>
        <ui:insert name="meta-data">
            <f:event type="preRenderView" listener="#{usuarioSessionBean.checkExpiredAndClose()}"/>
        </ui:insert>
    </f:metadata>

    <h:head>

        <title>
            <ui:insert name="titulo">
                #{aplicacionBean.organizacion.nombreFantasia} - Template
            </ui:insert>
        </title>

        <link rel="shortcut icon" type="image/x-icon" href="#{resource['image/favicon.ico']}"/>
        <!--
        <link href='http://fonts.googleapis.com/css?family=Droid+Sans:400,700' rel='stylesheet' type='text/css'/>
        -->

        <script type="text/javascript" language="javascript" src="#{request.contextPath}/resources/js/calendar_es.js" />

        <h:outputScript name="js/layout.js" library="volt-layout" />
        <h:outputStylesheet library="css" name="estilos.css"/>

        <ui:insert name="head"></ui:insert>

        <ui:insert name="script" >
            <script type="text/javascript">

                function heightSize() {

                    f = document.getElementById('frame');

                    if (f !== null) {
                        f.height = screen.height - 200;
                    } else {

                    }
                }
            </script>
        </ui:insert>

        <h:outputText value="#{aplicacionBean.parametro.codigoGoogleAnalitycs}" escape="true"
                      rendered="#{not empty aplicacionBean.parametro.codigoGoogleAnalitycs}"/>


    </h:head>

    <h:body styleClass="#{aplicacionBean.parametro.fondo}">

        <h:form prependId="false" enctype="multipart/form-data" >

            <!-- TOPBAR START -->
            <div id="layout-topbar">
                <div id="layout-topbar-indent">

                    <span class="DispInlBlock Fleft" style="margin:10px 10px 0px 0px;">
                        <p:graphicImage value="#{aplicacionBean.organizacion.logo}" style="max-width: 200px; max-height: 50px;"   />
                    </span>

                    <span class="BoxSizeBorder Fleft" style="margin:10px 10px 0px 0px;">
                        <ui:insert name="menu" />
                    </span>

                    <span class="BoxSizeBorder Fright" style="margin:10px 10px 0px 0px;">

                        <p:ajaxStatus widgetVar="ajaxStatus" >
                            <f:facet name="default" />
                            <f:facet name="start" >
                                <span>
                                    <p:graphicImage value="/resources/ajax/ajax02.GIF"                                                 />
                                </span>
                            </f:facet>
                            <f:facet name="complete" />
                        </p:ajaxStatus>
                    </span>
                </div>
            </div>
            <div class="EmptyBox70"></div>

            <div id="layout-portlets-cover">
                <div id="layout-portlets-cover-indent">
                    <div id="layout-portlets-table">
                        <div id="layout-portlets-tablerow">
                            <div class="Container100">
                                <div class="ui-fluid">
                                    <p:fileUpload fileUploadListener="#{aplicacionBean.upload}" style="max-width: 300px;"
                                                  mode="advanced"
                                                  label="Buscar" cancelLabel="Cancelar" uploadLabel="Subir archivo"
                                                  invalidFileMessage="Formato inválido"
                                                  invalidSizeMessage="El tamaño del archivo es muy grande"
                                                  fileLimit="2"
                                                  update="@all"
                                                  auto="true" dragDropSupport="true"
                                                  sizeLimit="9000000" allowTypes="/(\.|\/)(xls|xlsx|png)$/" />
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </h:form>

        <p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
            <p:commandButton value="Si" type="button" styleClass="ui-confirmdialog-yes GreenButton" icon="ui-icon-check fa fa-check Fs14 white" />
            <p:commandButton value="No" type="button" styleClass="ui-confirmdialog-no RedButton" icon="ui-icon-close fa fa-close Fs14 white" />
        </p:confirmDialog>


        <ui:include src="/template/exceptionHandler.xhtml" />

        <h:outputStylesheet name="css/core-layout.css" library="volt-layout" />
        <h:outputStylesheet name="css/animate.css" library="volt-layout" />
        <h:outputStylesheet name="css/volt-font.css" library="volt-layout" />
        <h:outputStylesheet name="css/font-awesome.css" library="volt-layout" />
        <h:outputStylesheet name="css/volt-layout.css" library="volt-layout" />

    </h:body>

</html>

